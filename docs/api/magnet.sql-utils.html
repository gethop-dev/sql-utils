<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>magnet.sql-utils documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Sql-utils</span> <span class="project-version">0.4.11</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1 current"><a href="magnet.sql-utils.html"><div class="inner"><span>magnet.sql-utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="magnet.sql-utils.html#var-coll-.3Ejdbc-array"><div class="inner"><span>coll-&gt;jdbc-array</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-coll-.3Epg-jsonb"><div class="inner"><span>coll-&gt;pg-jsonb</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-instant-.3Esql-timestamp"><div class="inner"><span>instant-&gt;sql-timestamp</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-json-.3Epg-jsonb"><div class="inner"><span>json-&gt;pg-jsonb</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-keyword-.3Epg-enum"><div class="inner"><span>keyword-&gt;pg-enum</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-map-.3Epg-jsonb"><div class="inner"><span>map-&gt;pg-jsonb</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-pg-enum-.3Ekeyword"><div class="inner"><span>pg-enum-&gt;keyword</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-pg-json-.3Ecoll"><div class="inner"><span>pg-json-&gt;coll</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-delete.21"><div class="inner"><span>sql-delete!</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-execute.21"><div class="inner"><span>sql-execute!</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-insert.21"><div class="inner"><span>sql-insert!</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-insert-multi.21"><div class="inner"><span>sql-insert-multi!</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-query"><div class="inner"><span>sql-query</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-update.21"><div class="inner"><span>sql-update!</span></div></a></li><li class="depth-1"><a href="magnet.sql-utils.html#var-sql-update-or-insert.21"><div class="inner"><span>sql-update-or-insert!</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">magnet.sql-utils</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-coll-.3Ejdbc-array"><h3>coll-&gt;jdbc-array</h3><div class="usage"><code>(coll-&gt;jdbc-array coll type-name)</code></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-coll-.3Epg-jsonb"><h3>coll-&gt;pg-jsonb</h3><div class="usage"><code>(coll-&gt;pg-jsonb c)</code></div><div class="doc"><div class="markdown"><p>Convert coll <code>c</code> into a Postgresql jsonb compatible object.</p></div></div></div><div class="public anchor" id="var-instant-.3Esql-timestamp"><h3>instant-&gt;sql-timestamp</h3><div class="usage"><code>(instant-&gt;sql-timestamp instant)</code></div><div class="doc"><div class="markdown"><p>Convert clojure.java-time/Instant <code>instant</code> into a SQL Timestamp</p></div></div></div><div class="public anchor" id="var-json-.3Epg-jsonb"><h3>json-&gt;pg-jsonb</h3><div class="usage"><code>(json-&gt;pg-jsonb json)</code></div><div class="doc"><div class="markdown"><p>Convert <code>json</code> string into a Postgresql jsonb compatible object. In order to persist JSON into Postgresql we need to wrap the json into a PGObject and set the “jsonb” type on it. See <a href="https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PGobject.html">https://jdbc.postgresql.org/documentation/publicapi/org/postgresql/util/PGobject.html</a></p></div></div></div><div class="public anchor" id="var-keyword-.3Epg-enum"><h3>keyword-&gt;pg-enum</h3><div class="usage"><code>(keyword-&gt;pg-enum kw enum-type)</code></div><div class="doc"><div class="markdown"><p>Convert keyword <code>kw</code> into a Postgresql <code>enum-type</code> enum compatible object. <code>enum-type</code> is a string holding the name of the Postgresql enum type.</p></div></div></div><div class="public anchor" id="var-map-.3Epg-jsonb"><h3>map-&gt;pg-jsonb</h3><div class="usage"><code>(map-&gt;pg-jsonb m)</code></div><div class="doc"><div class="markdown"><p>Convert map <code>m</code> into a Postgresql jsonb compatible object.</p></div></div></div><div class="public anchor" id="var-pg-enum-.3Ekeyword"><h3>pg-enum-&gt;keyword</h3><div class="usage"><code>(pg-enum-&gt;keyword pg-enum enum-type)</code></div><div class="doc"><div class="markdown"><p>Convert <code>pg-enum</code> from <code>enum-type</code> compatible value into a keyword. <code>enum-type</code> is a string holding the name of the Postgresql enum type. <code>pg-enum</code> must be either a PGobject of <code>enum-type</code> type or a string[1]. Otherwise, it asserts.</p>
<p>[1] This is because some versions of Postgresql or Postgresql  client driver return enums as PGobjects and other as plain  strings</p></div></div></div><div class="public anchor" id="var-pg-json-.3Ecoll"><h3>pg-json-&gt;coll</h3><div class="usage"><code>(pg-json-&gt;coll pg-json)</code></div><div class="doc"><div class="markdown"><p>Convert PostgreSQL Object <code>pg-object</code> into a Clojure collection.</p></div></div></div><div class="public anchor" id="var-sql-delete.21"><h3>sql-delete!</h3><div class="usage"><code>(sql-delete! db-spec logger table where-clause)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-execute.21"><h3>sql-execute!</h3><div class="usage"><code>(sql-execute! db-spec logger sql-statement)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-insert.21"><h3>sql-insert!</h3><div class="usage"><code>(sql-insert! db-spec logger table cols values)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-insert-multi.21"><h3>sql-insert-multi!</h3><div class="usage"><code>(sql-insert-multi! db-spec logger table cols values)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-query"><h3>sql-query</h3><div class="usage"><code>(sql-query db-spec logger sql-statement)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-update.21"><h3>sql-update!</h3><div class="usage"><code>(sql-update! db-spec logger table set-map where-clause)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div><div class="public anchor" id="var-sql-update-or-insert.21"><h3>sql-update-or-insert!</h3><div class="usage"><code>(sql-update-or-insert! db-spec logger table set-map where-clause)</code></div><div class="doc"><div class="markdown"><p>FIXME: document this function</p></div></div></div></div></body></html>